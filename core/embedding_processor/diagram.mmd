graph TB
    subgraph "ğŸ”µ EmbeddingProcessor Module"
        subgraph "ğŸ“‹ Configuration Layer"
            CONFIG["EmbeddingConfig<br/>ğŸ“ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ñ€Ğ°"]
            MODE["ProcessingMode<br/>ğŸ¯ AUTOENCODER/GENERATOR/DIALOGUE"]
            FACTORY["Config Factories<br/>ğŸ­ create_*_config()"]
        end
        
        subgraph "ğŸ§  Core Processing Layer"
            PROCESSOR["EmbeddingProcessor<br/>âš¡ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ñ€"]
            RESHAPER["EmbeddingReshaper<br/>ğŸ”„ 1Dâ†”3D ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ñ"]
            LATTICE["Lattice3D<br/>ğŸ² 3D Ñ€ĞµÑˆĞµÑ‚ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸"]
        end
        
        subgraph "ğŸ“Š Metrics & Monitoring"
            METRICS["ProcessingMetrics<br/>ğŸ“ˆ Ğ¡Ğ±Ğ¾Ñ€ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº"]
            UTILS["Validation Utils<br/>âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¸ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ"]
            BENCHMARK["Benchmark Utils<br/>â±ï¸ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ"]
        end
    end
    
    subgraph "ğŸ”´ External: Teacher LLM Encoder"
        INPUT_TEXT["Input Text<br/>ğŸ’¬ Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚"]
        INPUT_EMB["Input Embedding<br/>ğŸ“Š 768D Ğ²ĞµĞºÑ‚Ğ¾Ñ€"]
    end
    
    subgraph "ğŸŸ¡ External: Lightweight Decoder"
        OUTPUT_EMB["Output Embedding<br/>ğŸ“Š 768D Ğ²ĞµĞºÑ‚Ğ¾Ñ€"]
        OUTPUT_TEXT["Output Text<br/>ğŸ’¬ Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚"]
    end
    
    %% ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    INPUT_TEXT --> INPUT_EMB
    INPUT_EMB --> PROCESSOR
    PROCESSOR --> OUTPUT_EMB
    OUTPUT_EMB --> OUTPUT_TEXT
    
    %% Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½ÑÑ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
    PROCESSOR --> RESHAPER
    RESHAPER --> LATTICE
    LATTICE --> RESHAPER
    RESHAPER --> PROCESSOR
    
    %% ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
    CONFIG --> PROCESSOR
    MODE --> CONFIG
    FACTORY --> CONFIG
    
    %% ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸
    PROCESSOR --> METRICS
    METRICS --> UTILS
    UTILS --> BENCHMARK
    
    %% Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº 1Dâ†’3Dâ†’1D
    subgraph "ğŸ”„ Transformation Pipeline"
        EMB_1D["768D Vector<br/>ğŸ“Š Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑĞ¼Ğ±ĞµĞ´Ğ¸Ğ½Ğ³"]
        MATRIX_3D["8Ã—8Ã—8 Matrix<br/>ğŸ² 3D Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ"]
        PROCESSED_3D["8Ã—8Ã—8 Processed<br/>âš¡ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ğ°Ñ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ°"]
        EMB_OUT["768D Vector<br/>ğŸ“Š Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑĞ¼Ğ±ĞµĞ´Ğ¸Ğ½Ğ³"]
    end
    
    EMB_1D --> MATRIX_3D
    MATRIX_3D --> PROCESSED_3D
    PROCESSED_3D --> EMB_OUT
    
    %% Ğ¢Ñ€Ğ¸ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
    subgraph "ğŸ¯ Processing Modes"
        AUTO["AUTOENCODER<br/>ğŸ”„ Similarity: 0.999"]
        GEN["GENERATOR<br/>ğŸ² Semantic Generation"]
        DIAL["DIALOGUE<br/>ğŸ’¬ Context Responses"]
    end
    
    MODE --> AUTO
    MODE --> GEN
    MODE --> DIAL
    
    %% ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿ÑƒÑ‚Ğ¸
    PROCESSOR -.->|"CRITICAL PATH"| RESHAPER
    RESHAPER -.->|"CRITICAL PATH"| LATTICE
    LATTICE -.->|"CRITICAL PATH"| METRICS
    
    %% Ğ¡Ñ‚Ğ¸Ğ»Ğ¸
    classDef inputNode fill:#ffcccc
    classDef coreNode fill:#ccddff
    classDef outputNode fill:#ccffcc
    classDef configNode fill:#ffffcc
    classDef metricsNode fill:#ffccff
    classDef criticalPath stroke:#ff0000,stroke-width:3px
    
    class INPUT_TEXT,INPUT_EMB inputNode
    class PROCESSOR,RESHAPER,LATTICE coreNode
    class OUTPUT_EMB,OUTPUT_TEXT outputNode
    class CONFIG,MODE,FACTORY configNode
    class METRICS,UTILS,BENCHMARK metricsNode
    class PROCESSOR,RESHAPER,LATTICE,METRICS criticalPath 