graph TB
    subgraph "ğŸ¢ ConfigManager Enhanced Architecture"
        subgraph "ğŸ“‹ Core Components"
            CM[ConfigManager<br/>ğŸ”§ Main Controller]
            CMS[ConfigManagerSettings<br/>âš™ï¸ Configuration]
            CS[ConfigSection<br/>ğŸ“¦ Section Wrapper]
        end
        
        subgraph "ğŸ” Validation Systems"
            CV[ConfigValidator<br/>ğŸ“ Basic Validation]
            CVB[ConfigValidatorBuilder<br/>ğŸ—ï¸ Validator Factory]
            ECV[EnhancedConfigValidator<br/>ğŸ†• Multi-Severity]
            VR[ValidationResult<br/>ğŸ†• Detailed Results]
        end
        
        subgraph "ğŸ†• Enhanced Validation"
            SM[SchemaManager<br/>ğŸ“‹ JSON Schema Controller]
            SVR[SchemaValidationRule<br/>ğŸ” JSON Schema Rule]
            DVR[DependencyValidationRule<br/>ğŸ”— Field Dependencies]
            CVR[ConditionalValidationRule<br/>â“ If-Then Logic]
            STR[StructureValidationRule<br/>ğŸ—ï¸ Complex Objects]
        end
        
        subgraph "ğŸ†• Versioning System"
            CVM[ConfigVersionManager<br/>ğŸ“š Version Controller]
            CC[ConfigChange<br/>ğŸ“ Change Description]
            CVer[ConfigVersion<br/>ğŸ·ï¸ Version Metadata]
            CMig[ConfigMigration<br/>ğŸ”„ Migration Handler]
        end
        
        subgraph "ğŸ’¾ Storage Layer"
            YF[YAML Files<br/>ğŸ“„ Configuration Files]
            JS[JSON Schemas<br/>ğŸ” Validation Schemas]
            VH[Version History<br/>ğŸ“š Config Versions]
            Cache[Memory Cache<br/>âš¡ Performance Layer]
        end
        
        subgraph "ğŸŒ External Dependencies"
            YAML[PyYAML Library<br/>ğŸ“„ YAML Processing]
            JSONSCHEMA[jsonschema Library<br/>ğŸ†• Schema Validation]
            FS[File System<br/>ğŸ’¿ File Operations]
            TH[Threading<br/>ğŸ”’ Thread Safety]
        end
    end
    
    %% Core connections
    CM --> CMS
    CM --> CS
    CM --> CV
    CM --> Cache
    
    %% Enhanced validation connections
    CM --> ECV
    ECV --> VR
    ECV --> SM
    SM --> SVR
    SM --> DVR
    SM --> CVR
    SM --> STR
    
    %% Versioning connections
    CM --> CVM
    CVM --> CC
    CVM --> CVer
    CVM --> CMig
    
    %% Storage connections
    CM --> YF
    SM --> JS
    CVM --> VH
    
    %% External dependencies
    CM --> YAML
    SM --> JSONSCHEMA
    CM --> FS
    CM --> TH
    
    %% Data flow arrows
    YF -.->|"load"| Cache
    Cache -.->|"validate"| ECV
    ECV -.->|"results"| VR
    CM -.->|"version"| CVM
    CVM -.->|"track"| CC
    
    %% Styling
    classDef coreClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef enhancedClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef newClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px
    classDef storageClass fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef externalClass fill:#fafafa,stroke:#424242,stroke-width:1px
    
    class CM,CMS,CS,CV,CVB coreClass
    class ECV,VR,SM,SVR,DVR,CVR,STR enhancedClass
    class CVM,CC,CVer,CMig newClass
    class YF,JS,VH,Cache storageClass
    class YAML,JSONSCHEMA,FS,TH externalClass 