# üêõ ERRORS LOG: Lightweight Decoder

**–ú–æ–¥—É–ª—å:** inference/lightweight_decoder/  
**Phase:** 2.7  
**–°—Ç–∞—Ç—É—Å:** üîÑ **–ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ - 1 –æ—à–∏–±–∫–∞ —Ä–µ—à–µ–Ω–∞**  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 6 –¥–µ–∫–∞–±—Ä—è 2024

---

## üìã –®–ê–ë–õ–û–ù –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–ò–Ø –û–®–ò–ë–û–ö

–≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è **–¢–û–õ–¨–ö–û —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏**, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–º–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Phase 2.7.

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏:

```
## ERROR-ID: DDMM-NN (–î–∞—Ç–∞ + –Ω–æ–º–µ—Ä)

**–î–∞—Ç–∞:** DD.MM.YYYY
**–≠—Ç–∞–ø:** [Phase 2.7.X - –æ–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞]
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª/–∫–ª–∞—Å—Å]
**–¢–∏–ø:** [ImportError/RuntimeError/ConfigError/etc]

### –û–ø–∏—Å–∞–Ω–∏–µ –û—à–∏–±–∫–∏
–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

### –û—à–∏–±–∫–∞ (Error Message)
```

–¢–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏

```

### –ü—Ä–∏—á–∏–Ω–∞ (Root Cause)
–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

### –†–µ—à–µ–Ω–∏–µ (Solution)
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ (Prevention)
–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –±—É–¥—É—â–µ–º

---
```

---

## üêõ –§–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò

### ERROR-0612-01: RTX 5090 CUDA Kernel Compatibility

**–î–∞—Ç–∞:** 06.12.2024  
**–≠—Ç–∞–ø:** Phase 2.7.1 - Checkpoint 1.1 Testing  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `data/embedding_loader/format_handlers.py`  
**–¢–∏–ø:** RuntimeError

#### –û–ø–∏—Å–∞–Ω–∏–µ –û—à–∏–±–∫–∏

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ PhraseBankDecoder –Ω–∞ —Å–∏—Å—Ç–µ–º–µ —Å RTX 5090, PyTorch –Ω–µ —Å–º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å CUDA –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö kernel –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã sm_120.

#### –û—à–∏–±–∫–∞ (Error Message)

```
RuntimeError: CUDA error: no kernel image is available for execution on the device
CUDA kernel errors might be asynchronously reported at some other API call, so the stacktrace below might be incorrect.
For debugging consider passing CUDA_LAUNCH_BLOCKING=1
Compile with `TORCH_USE_CUDA_DSA` to enable device-side assertions.
```

#### –ü—Ä–∏—á–∏–Ω–∞ (Root Cause)

RTX 5090 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É sm_120, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ PyTorch wheels. LLMHandler –≤ embedding_loader –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CUDA —á–µ—Ä–µ–∑ `torch.cuda.is_available()`.

#### –†–µ—à–µ–Ω–∏–µ (Solution)

1. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π CPU —Ä–µ–∂–∏–º –≤ LLMHandler:**

   ```python
   # –í data/embedding_loader/format_handlers.py
   self._device = "cpu"  # –í–º–µ—Å—Ç–æ auto-detection
   ```

2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

   ```yaml
   # config/main_config.yaml
   device:
     use_gpu: false # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º GPU

   # config/lightweight_decoder.yaml
   lightweight_decoder:
     device: "cpu" # CPU-only —Ä–µ–∂–∏–º
   ```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–£–°–ü–ï–®–ù–û –†–ï–®–ï–ù–û** - –≤—Å–µ —Ç–µ—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ CPU-only —Ä–µ–∂–∏–º–µ —Å –æ—Ç–ª–∏—á–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

#### –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ (Prevention)

- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å RTX 5090 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CPU-first –ø–æ–¥—Ö–æ–¥ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –¥–µ—Ç–µ–∫—Ü–∏—é –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö GPU

---

## üéØ –ò–ó–í–ï–°–¢–ù–´–ï –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –µ—â–µ –ù–ï –≤–æ–∑–Ω–∏–∫–ª–∏, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å potential issues

### 1. Dependency Integration Challenges

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π torch/transformers  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π  
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** Locked requirements.txt versions

### 2. Memory Usage —Å Large Phrase Banks

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** OOM –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ 50K phrase embeddings  
**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π  
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** Lazy loading + caching strategy

### 3. CUDA Compatibility (RTX 5090)

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** GPU issues similar to other modules  
**–†–∏—Å–∫:** –ò–∑–≤–µ—Å—Ç–Ω—ã–π  
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** CPU fallback –≥–æ—Ç–æ–≤

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –û–®–ò–ë–û–ö

```
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫: 1
- ImportError: 0
- RuntimeError: 1 ‚úÖ (CUDA compatibility - —Ä–µ—à–µ–Ω–∞)
- ConfigError: 0
- IntegrationError: 0
- PerformanceError: 0

–†–µ—à–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏: 1/1 (100%)
–°—Ç–∞—Ç—É—Å —Ä–µ—à–µ–Ω–∏—è: ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Ä–µ—à–µ–Ω—ã
```

---

## üîç –ú–û–ù–ò–¢–û–†–ò–ù–ì –ö–ê–ß–ï–°–¢–í–ê

–ü–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è:

- –ü—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Module 1 & 2
- Performance bottlenecks
- Quality degradation issues
- Configuration conflicts
- Memory/GPU utilization problems

---

**–û–ë–ù–û–í–õ–ï–ù–ò–ï:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Phase 2.7.
